(window.webpackJsonp=window.webpackJsonp||[]).push([["npm.scatterjs"],{"0cd5":function(e,t,n){"use strict";var r;if(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,"undefined"==typeof navigator)r="nodejs_env";else{var u=(new(0,n("500b").DeviceUUID)).parse(),a=[u.language,u.platform,u.os,u.cpuCores,u.colorDepth];r=u.hashMD5(a.join(":"))}var i=r;t.default=i},4047:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("970b")),a=r(n("5bc3")),i=n("4445"),o=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:i.Blockchains.EOS,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;(0,u.default)(this,e),this.blockchain=t,this.contract=n,this.symbol=r,this.name=a||r,this.decimals=o}return(0,a.default)(e,null,[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(e){return Object.assign(this.placeholder(),e)}}]),e}();t.default=o},"42d7":function(e,t,n){"use strict";var r=n("dbce"),u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("970b")),i=u(n("5bc3")),o=u(n("6b58")),c=u(n("36c6")),s=u(n("ed6d")),l=u(n("a34a")),d=u(n("c973")),f=r(n("f861")),p=u(n("e4bb")),h=!1;"undefined"!=typeof window&&"undefined"!=typeof document&&(void 0===window.scatter?document.addEventListener("scatterLoaded",(function(){return h=!0})):h=!0);var v=function(){var e=(0,d.default)(l.default.mark((function e(){var t,n,r=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:null,n=1<r.length&&void 0!==r[1]?r[1]:0,e.abrupt("return",new Promise((function(e){return t||(t=e),h?t(!0):5<n?t(!1):void setTimeout((function(){return v(t,n+1)}),100)})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,o.default)(this,(0,c.default)(t).call(this,"InjectedWallet",f.WALLET_SUPPORT))).name="InjectedWallet",r.context=e,r.holderFns=n,r}return(0,s.default)(t,e),(0,i.default)(t,[{key:"connect",value:function(){var e=(0,d.default)(l.default.mark((function e(){var t=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,d.default)(l.default.mark((function e(n){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:e.sent&&(t.holderFns&&!t.holderFns.get().wallet&&(t.holderFns.get().wallet=t.name),n("injection"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"runBeforeInterfacing",value:function(){var e=(0,d.default)(l.default.mark((function e(){var t,n,r,u,a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.context.network)&&(n=window.scatter.getIdentity.bind(window.scatter),r=window.scatter.useIdentity.bind(window.scatter),window.scatter.getIdentity=function(e){return n(e||{accounts:[t]}).then((function(e){return a.holderFns.get().identity=e,r(e),e}))},u=window.scatter.suggestNetwork.bind(window.scatter),window.scatter.suggestNetwork=function(e){return u(e||t)}),this.holderFns.get().wallet===this.name&&(window.scatter.wallet=this.name),this.holderFns.set(window.scatter),this.context=this.holderFns.get(),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"runAfterInterfacing",value:function(){var e=(0,d.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.context.isExtension=!0,this.context.connect=this.connect,e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){return{}}}]),t}(p.default);t.default=y},4445:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockchainsArray=t.Blockchains=void 0;var r={EOS:"eos",ETH:"eth",TRX:"trx"};t.Blockchains=r;var u=Object.keys(r).map((function(e){return{key:e,value:r[e]}}));t.BlockchainsArray=u},"4de0":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("9523")),a=r(n("970b")),i=r(n("5bc3")),o=n("8d24"),c=function(){function e(){(0,a.default)(this,e)}return(0,i.default)(e,null,[{key:"getMethods",value:function(e,t){var n,r=function(t,n){return(t||n)&&(e.holderFns.get().identity=t),n||t};return n={},(0,u.default)(n,o.WALLET_METHODS.disconnect,(function(){return t().disconnect()})),(0,u.default)(n,o.WALLET_METHODS.isConnected,(function(){return t().isConnected()})),(0,u.default)(n,o.WALLET_METHODS.isPaired,(function(){return t().isPaired()})),(0,u.default)(n,o.WALLET_METHODS.addEventHandler,(function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t().addEventHandler(e,n)})),(0,u.default)(n,o.WALLET_METHODS.removeEventHandler,(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return t().removeEventHandler(e)})),(0,u.default)(n,o.WALLET_METHODS.listen,(function(e){return t().addEventHandler(e)})),(0,u.default)(n,o.WALLET_METHODS.getVersion,(function(){return t().sendApiRequest({type:"getVersion",payload:{}})})),(0,u.default)(n,o.WALLET_METHODS.getIdentity,(function(n){return t().sendApiRequest({type:"getOrRequestIdentity",payload:{fields:n||{accounts:[e.holderFns.get().network]}}}).then(r)})),(0,u.default)(n,o.WALLET_METHODS.getAllAccountsFor,(function(n){return t().sendApiRequest({type:"getAllAccountsFor",payload:{fields:n||{accounts:[e.holderFns.get().network]}}}).then(r)})),(0,u.default)(n,o.WALLET_METHODS.getIdentityFromPermissions,(function(){return t().sendApiRequest({type:"identityFromPermissions",payload:{}}).then(r)})),(0,u.default)(n,o.WALLET_METHODS.forgetIdentity,(function(){return t().sendApiRequest({type:"forgetIdentity",payload:{}}).then((function(e){return r(null,e)}))})),(0,u.default)(n,o.WALLET_METHODS.updateIdentity,(function(e){var n=e.name,u=e.kyc;return t().sendApiRequest({type:"updateIdentity",payload:{name:n,kyc:u}}).then((function(e){return e?r(e):null}))})),(0,u.default)(n,o.WALLET_METHODS.authenticate,(function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return t().sendApiRequest({type:"authenticate",payload:{nonce:e,data:n,publicKey:r}})})),(0,u.default)(n,o.WALLET_METHODS.getArbitrarySignature,(function(e,n){return t().sendApiRequest({type:"requestArbitrarySignature",payload:{publicKey:e,data:n}})})),(0,u.default)(n,o.WALLET_METHODS.getPublicKey,(function(e){return t().sendApiRequest({type:"getPublicKey",payload:{blockchain:e}})})),(0,u.default)(n,o.WALLET_METHODS.linkAccount,(function(n,r){return t().sendApiRequest({type:"linkAccount",payload:{account:n,network:r||e.holderFns.get().network}})})),(0,u.default)(n,o.WALLET_METHODS.hasAccountFor,(function(n){return t().sendApiRequest({type:"hasAccountFor",payload:{network:n||e.holderFns.get().network}})})),(0,u.default)(n,o.WALLET_METHODS.suggestNetwork,(function(n){return t().sendApiRequest({type:"requestAddNetwork",payload:{network:n||e.holderFns.get().network}})})),(0,u.default)(n,o.WALLET_METHODS.requestTransfer,(function(n,r,u){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return t().sendApiRequest({type:"requestTransfer",payload:{network:n||e.holderFns.get().network,to:r,amount:u,options:a}})})),(0,u.default)(n,o.WALLET_METHODS.getAvatar,(function(){return t().sendApiRequest({type:"getAvatar",payload:{}})})),(0,u.default)(n,o.WALLET_METHODS.requestSignature,(function(e){return t().sendApiRequest({type:"requestSignature",payload:e})})),(0,u.default)(n,o.WALLET_METHODS.createTransaction,(function(n,r,u,a){return t().sendApiRequest({type:"createTransaction",payload:{blockchain:n,actions:r,account:u,network:a||e.holderFns.get().network}})})),(0,u.default)(n,o.WALLET_METHODS.addToken,(function(n,r){return t().sendApiRequest({type:"addToken",payload:{token:n,network:r||e.holderFns.get().network}})})),(0,u.default)(n,o.WALLET_METHODS.createEncryptionKey,(function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return t().sendApiRequest({type:"createEncryptionKey",payload:{scatterPublicKey:e,otherPublicKey:n,nonce:r}})})),n}}]),e}();t.default=c},5373:function(e,t,n){"use strict";var r=n("dbce"),u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("970b")),i=u(n("5bc3")),o=u(n("6b58")),c=u(n("36c6")),s=u(n("ed6d")),l=u(n("a34a")),d=u(n("c973")),f=r(n("f861")),p=u(n("e4bb")),h=u(n("4de0")),v=!1;"undefined"!=typeof document&&document.addEventListener("walletLoaded",(function(){return v=!0}));var y=function(){return!("undefined"==typeof window||void 0===window.wallet||(v=!0,0))},g=function(){var e=(0,d.default)(l.default.mark((function e(){var t,n,r=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<r.length&&void 0!==r[0]?r[0]:null,n=1<r.length&&void 0!==r[1]?r[1]:0,e.abrupt("return",new Promise((function(e){return t||(t=e),v||y()?t(!0):5<n?t(!1):void setTimeout((function(){return g(t,n+1)}),100)})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){function t(e,n){var r;return(0,a.default)(this,t),(r=(0,o.default)(this,(0,c.default)(t).call(this,"InjectedWalletV2",f.WALLET_SUPPORT))).name="InjectedWalletV2",r.context=e,r.holderFns=n,r}return(0,s.default)(t,e),(0,i.default)(t,[{key:"connect",value:function(){var e=(0,d.default)(l.default.mark((function e(){var t=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,d.default)(l.default.mark((function e(n){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:e.sent&&(t.holderFns&&!t.holderFns.get().wallet&&(t.holderFns.get().wallet=t.name),n({disconnect:function(){},sendApiRequest:window.wallet.sendApiRequest}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"runAfterInterfacing",value:function(){var e=(0,d.default)(l.default.mark((function e(){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.holderFns.get().getIdentityFromPermissions();case 2:return this.holderFns.get().identity=e.sent,e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){return h.default.getMethods(this,(function(){return window.wallet}))}}]),t}(p.default);t.default=k},6039:function(e,t,n){"use strict";var r=n("dbce"),u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SocketService",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Plugin",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Blockchains",{enumerable:!0,get:function(){return h.Blockchains}}),Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"WalletInterface",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"WALLET_METHODS",{enumerable:!0,get:function(){return y.WALLET_METHODS}}),t.PluginTypes=t.default=t.EVENTS=void 0;var a=u(n("a34a")),i=u(n("7037")),o=u(n("c973")),c=u(n("970b")),s=u(n("5bc3")),l=u(n("a10e")),d=u(n("6a2e")),f=u(n("e4bb")),p=r(n("f861"));t.PluginTypes=p;var h=n("4445"),v=u(n("e28f")),y=r(n("8d24")),g=u(n("99d2")),k=u(n("e57e")),w=u(n("42d7")),b=u(n("5373")),m=u(n("4047")),P={Disconnected:"dced",LoggedOut:"logout"};t.EVENTS=P;var O=null,E=[],T={},A=function(){function e(){(0,c.default)(this,e),this.identity=null,this.network=null,l.default.loadPlugin(new k.default(this,T)),l.default.loadPlugin(new g.default(this,T)),l.default.loadPlugin(new b.default(this,T)),l.default.loadPlugin(new w.default(this,T))}return(0,s.default)(e,[{key:"loadPlugin",value:function(e){if(!e.isValid())throw new Error("".concat(e.name," doesn't seem to be a valid ScatterJS plugin."));l.default.loadPlugin(e),e.type===p.BLOCKCHAIN_SUPPORT&&(this[e.name]=e.signatureProvider((function(){if(!T.get().identity)throw new Error("No Identity")}),(function(){return T.get().identity})),this[e.name+"Hook"]=e.hookProvider,"function"==typeof e.multiHook&&(this[e.name+"MultiHook"]=e.multiHook),E.push(e.setSocketService)),e.type===p.WALLET_SUPPORT&&e.init(this,T,E)}},{key:"connect",value:function(){var e=(0,o.default)(a.default.mark((function e(t,n){var r=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,o.default)(a.default.mark((function e(u){var c,s,d,f,p,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n||(n={}),r.network=n.hasOwnProperty("network")?n.network:null,c=l.default.wallets(),O&&(O.disconnect(),O=null),s=!1,d=[],f=function(e){if(s)return{v:void 0};var r=c[e];d.push(Promise.race([r.connect(t,n).then(function(){var e=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}if("injection"!==t&&(O=t,E.map((function(e){return e(t)}))),"function"!=typeof r.runBeforeInterfacing){e.next=5;break}return e.next=5,r.runBeforeInterfacing();case 5:if(new y.default(r.name,r.methods(),T.get()),"function"!=typeof r.runAfterInterfacing){e.next=9;break}return e.next=9,r.runAfterInterfacing();case 9:y.default.bindBasics(T.get()),s=!0,u(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()).catch((function(){return!1})),new Promise((function(e){return setTimeout((function(){return e(!1)}),5e3)}))]))},p=0;case 8:if(!(p<c.length)){e.next=15;break}if(h=f(p),"object"!==(0,i.default)(h)){e.next=12;break}return e.abrupt("return",h.v);case 12:p++,e.next=8;break;case 15:return e.next=17,Promise.all(d);case 17:u(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=new Proxy(new(function(){function e(t){(0,c.default)(this,e),this.scatter=t}return(0,s.default)(e,[{key:"plugins",value:function(){var e=this;if(!this.scatter.isExtension){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.map((function(t){return e.scatter.loadPlugin(t)}))}}},{key:"connect",value:function(){var e;return(e=this.scatter).connect.apply(e,arguments)}},{key:"catchAll",value:function(){}}]),e}())(new A),{get:function(e,t){return void 0===e[t]?e.scatter[t]:e[t]}});T.set=function(e){return S.scatter=e},T.get=function(){return S.scatter},"undefined"!=typeof window&&(window.ScatterJS=S),S.Plugin=f.default,S.PluginTypes=p,S.Blockchains=h.Blockchains,S.Network=v.default,S.Token=m.default,S.SocketService=d.default,S.EVENTS=P,S.WalletInterface=y.default,S.WALLET_METHODS=y.WALLET_METHODS;var L=S;t.default=L},"6a2e":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("a34a")),a=r(n("448a")),i=r(n("7037")),o=r(n("278c")),c=r(n("c973")),s=r(n("970b")),l=r(n("5bc3")),d=r(n("758c")),f=r(n("1781")),p=r(n("98e6")),h=r(n("3fe3")),v=r(n("0cd5")),y="/socket.io/?EIO=3&transport=websocket",g=function(e){return(0,p.default)("sha256").update(e).digest("hex")},k=function(){var e=new Uint8Array(24);return(0,f.default)(e),e.join("")},w=function(){function e(t,n){(0,s.default)(this,e),this.plugin=t,this.timeout=n,this.uuid=null,this.socket=null,this.connected=!1,this.paired=!1,this.openRequests=[],this.pairingPromise=null,this.eventHandlers={},this.appkey=d.default.getAppKey(),this.appkey||(this.appkey="appkey:"+k())}return(0,l.default)(e,[{key:"addEventHandler",value:function(e,t){t||(t="app"),this.eventHandlers[t]=e}},{key:"removeEventHandler",value:function(e){e||(e="app"),delete this.eventHandlers[e]}},{key:"link",value:function(){var e=this,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return this.uuid=n,new Promise(function(){var n=(0,c.default)(u.default.mark((function n(s){var l,f,p,v,w,b,m;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=function(){e.socket.onmessage=function(a){if(-1===a.data.indexOf("42/scatter"))return!1;var i=JSON.parse(a.data.replace("42/scatter,","")),c=(0,o.default)(i,2),s=c[0],l=c[1];return"pong"!==s?"ping"===s?e.socket.send('42/scatter,["pong"]'):"paired"===s?t(l):"rekey"===s?n():"api"===s?r(l):"event"===s?u(l):void 0:void 0};var t=function(t){if(e.paired=t,e.paired){var n=d.default.getAppKey(),r=-1<e.appkey.indexOf("appkey:")?g(e.appkey):e.appkey;n&&n===r||(d.default.setAppKey(r),e.appkey=d.default.getAppKey())}e.pairingPromise.resolve(t)},n=function(){e.appkey="appkey:"+k(),e.send("rekeyed",{data:{appkey:e.appkey,origin:e.getOrigin()},plugin:e.plugin})},r=function(t){try{t=JSON.parse(t)}catch(e){}var n=e.openRequests.find((function(e){return e.id===t.id}));n&&(e.openRequests=e.openRequests.filter((function(e){return e.id!==t.id})),"object"===(0,i.default)(t.result)&&null!==t.result&&t.result.hasOwnProperty("isError")?n.reject(t.result):n.resolve(t.result))},u=function(t){var n=t.event,r=t.payload;Object.keys(e.eventHandlers).length&&Object.keys(e.eventHandlers).map((function(t){e.eventHandlers[t](n,r)}))}},f=function(e,t){return r||(t?"local.get-scatter.com:".concat(e):"127.0.0.1:".concat(e))},n.next=4,new Promise(function(){var e=(0,c.default)(u.default.mark((function e(n){var i,o,s,l,d;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",n([50006]));case 2:return i=function(e,t){return fetch(e).then((function(e){return e.text()})).then((function(e){return t("scatter"===e)})).catch((function(){return t(!1)}))},50005,o=[],s=function(){return(o.length?o:[50006,50005]).filter((function(e){return!(!t&&e%2)})).sort((function(e,t){return t%2?e%2?0:-1:1}))},l=!1,d=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;l||(l=!0,null!==e&&o.push(e),n(s()))},e.next=10,Promise.all((0,a.default)([,,,,,].keys()).map(function(){var e=(0,c.default)(u.default.mark((function e(n){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return r=50005+1500*n,e.next=5,i("https://"+f(r+1,!0),(function(e){return e?d(r+1):null}));case 5:if(!t){e.next=8;break}return e.next=8,i("http://"+f(r,!1),(function(e){return e?d(r):null}));case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()));case 10:d();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());case 4:p=n.sent,v=function(e){return new Promise((function(t){var n=!(e%2),r=f(e,n),u=n?"wss://":"ws://",a=new h.default("".concat(u).concat(r).concat(y));a.onerror=function(){return t(!1)},a.onopen=function(){return t(a)}}))},w=!1,b=0;case 8:if(!(b<p.length)){n.next=26;break}if(!w){n.next=11;break}return n.abrupt("continue",23);case 11:return n.next=13,v(p[b]);case 13:if(!(m=n.sent)){n.next=23;break}return w=!0,e.socket=m,e.send(),e.connected=!0,l(),e.pairingPromise=null,e.pair(!0).then((function(){return s(!0)})),n.abrupt("break",26);case 23:b++,n.next=8;break;case 26:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}())}},{key:"isConnected",value:function(){return this.socket&&1===this.socket.readyState}},{key:"isPaired",value:function(){return this.paired}},{key:"disconnect",value:function(){return this.socket&&this.socket.close(),!0}},{key:"sendApiRequest",value:function(e){var t=this;return new Promise((function(n,r){return"identityFromPermissions"!==e.type||t.paired?void t.pair().then((function(){if(!t.paired)return r({code:"not_paired",message:"The user did not allow this app to connect to their Scatter"});e.id=k(),e.appkey=t.appkey,e.nonce=d.default.getNonce()||0;var u=k();e.nextNonce=g(u),d.default.setNonce(u),e.hasOwnProperty("payload")&&!e.payload.hasOwnProperty("origin")&&(e.payload.origin=t.getOrigin()),t.openRequests.push(Object.assign(e,{resolve:n,reject:r})),t.send("api",{data:e,plugin:t.plugin})})):n(!1)}))}},{key:"pair",value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return new Promise((function(n,r){e.pairingPromise={resolve:n,reject:r},e.send("pair",{data:{appkey:e.appkey,origin:e.getOrigin(),passthrough:t},plugin:e.plugin})}))}},{key:"send",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;null===e&&null===t?this.socket.send("40/scatter"):this.socket.send("42/scatter,"+JSON.stringify([e,Object.assign(t,{device:v.default,uuid:this.uuid})]))}},{key:"getOrigin",value:function(){return e.getOriginOrPlugin(this.plugin)}}],[{key:"getOriginOrPlugin",value:function(e){var t;return"www."===(t="undefined"==typeof location?e:location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:e).substr(0,4)&&(t=t.replace("www.","")),t}}]),e}();t.default=w},"758c":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("970b")),a=r(n("5bc3")),i={},o=function(){return"undefined"==typeof window?{localStorage:{setItem:function(e,t){return i[e]=t},getItem:function(e){return i[e]||null},removeItem:function(e){return delete i[e]}}}:window},c=function(){function e(){(0,u.default)(this,e)}return(0,a.default)(e,null,[{key:"setAppKey",value:function(e){o().localStorage.setItem("appkey",e)}},{key:"getAppKey",value:function(){return o().localStorage.getItem("appkey")}},{key:"removeAppKey",value:function(){return o().localStorage.removeItem("appkey")}},{key:"setNonce",value:function(e){o().localStorage.setItem("nonce",e)}},{key:"getNonce",value:function(){return o().localStorage.getItem("nonce")}},{key:"removeNonce",value:function(){return o().localStorage.removeItem("nonce")}}]),e}();t.default=c},"8d24":function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WALLET_METHODS=void 0;var u,a=r(n("970b")),i=r(n("5bc3")),o=r(n("9523")),c={disconnect:"disconnect",isConnected:"isConnected",isPaired:"isPaired",addEventHandler:"addEventHandler",removeEventHandler:"removeEventHandler",listen:"listen",getVersion:"getVersion",getIdentity:"getIdentity",getAllAccountsFor:"getAllAccountsFor",getIdentityFromPermissions:"getIdentityFromPermissions",forgetIdentity:"forgetIdentity",updateIdentity:"updateIdentity",authenticate:"authenticate",getArbitrarySignature:"getArbitrarySignature",getPublicKey:"getPublicKey",linkAccount:"linkAccount",hasAccountFor:"hasAccountFor",suggestNetwork:"suggestNetwork",requestTransfer:"requestTransfer",getAvatar:"getAvatar",requestSignature:"requestSignature",createTransaction:"createTransaction",addToken:"addToken",createEncryptionKey:"createEncryptionKey"};t.WALLET_METHODS=c;var s=(u={},(0,o.default)(u,c.getIdentity,"login"),(0,o.default)(u,c.getAllAccountsFor,"loginAll"),(0,o.default)(u,c.forgetIdentity,"logout"),(0,o.default)(u,c.getIdentityFromPermissions,"checkLogin"),u),l=function(){function e(t,n,r){(0,a.default)(this,e);var u=function(e){return function(){throw console.error("".concat(t," does not support the ").concat(e," method.")),new Error("".concat(t," does not support the ").concat(e," method."))}};Object.keys(c).map((function(e){return function(e,t){void 0===r[t]&&(r[t]=e||u(t)),s[t]&&void 0===r[s[t]]&&(r[s[t]]=r[t]?r[t]:u(t))}(n[e],e)}))}return(0,i.default)(e,null,[{key:"bindBasics",value:function(e){e.account=function(t){return e.identity&&e.identity.accounts?e.identity.accounts.find((function(e){return e.blockchain===t})):void 0}}}]),e}();t.default=l},"99d2":function(e,t,n){"use strict";var r=n("dbce"),u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("a34a")),i=u(n("c973")),o=u(n("970b")),c=u(n("5bc3")),s=u(n("6b58")),l=u(n("36c6")),d=u(n("ed6d")),f=u(n("e4bb")),p=r(n("f861")),h=u(n("6a2e")),v=n("6039"),y=u(n("4de0")),g=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,"LocalSocket",p.WALLET_SUPPORT))).name="LocalSocket",r.context=e,r.holderFns=n,r}return(0,d.default)(t,e),(0,c.default)(t,[{key:"connect",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){if(!e||!e.length)throw new Error("You must specify a name for this connection");n=Object.assign({linkTimeout:3e3,allowHttp:!0},n),t.socketService=new h.default(e,n.linkTimeout),t.socketService.link(n.allowHttp).then(function(){var e=(0,i.default)(a.default.mark((function e(n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",r(!1));case 2:return t.holderFns.get().isExtension=!1,t.holderFns.get().wallet||(t.holderFns.get().wallet=t.name),e.abrupt("return",r(t.socketService));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())}))}},{key:"runAfterInterfacing",value:function(){var e=(0,i.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.holderFns.get().addEventHandler((function(e,n){return t.eventHandler(e,n)}),"internal"),e.next=3,this.holderFns.get().getIdentityFromPermissions();case 3:return this.holderFns.get().identity=e.sent,e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){var e=this;return y.default.getMethods(this,(function(){return e.socketService}))}},{key:"eventHandler",value:function(){var e=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===v.EVENTS.Disconnected?3:e.t0===v.EVENTS.LoggedOut?5:9;break;case 3:return this.holderFns.get().identity=null,e.abrupt("break",9);case 5:return e.next=7,this.holderFns.get().getIdentityFromPermissions();case 7:return this.holderFns.get().identity=e.sent,e.abrupt("break",9);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(f.default);t.default=g},a10e:function(e,t,n){"use strict";var r=n("dbce"),u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("a34a")),i=u(n("c973")),o=u(n("970b")),c=u(n("5bc3")),s=r(n("f861")),l=new(function(){function e(){(0,o.default)(this,e),this.plugins=[]}return(0,c.default)(e,[{key:"loadPlugin",value:function(e){this.plugin(e.name)||this.plugins.push(e)}},{key:"wallets",value:function(){return this.plugins.filter((function(e){return e.type===s.WALLET_SUPPORT}))}},{key:"signatureProviders",value:function(){return this.plugins.filter((function(e){return e.type===s.BLOCKCHAIN_SUPPORT}))}},{key:"supportedBlockchains",value:function(){return this.signatureProviders().map((function(){return name}))}},{key:"plugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))}},{key:"endorsedNetworks",value:function(){var e=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.signatureProviders().map(function(){var e=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getEndorsedNetwork();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}());t.default=l},b374:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("a34a")),a=r(n("c973")),i=r(n("970b")),o=r(n("5bc3")),c=r(n("6b58")),s=r(n("36c6")),l=r(n("ed6d")),d=n("6039"),f=d.SocketService,p=function(e,t){return new Proxy(e,t)},h=function(e){function t(){return(0,i.default)(this,t),(0,c.default)(this,(0,s.default)(t).call(this,d.Blockchains.EOS,d.PluginTypes.BLOCKCHAIN_SUPPORT))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"setSocketService",value:function(e){f=e}},{key:"hookProvider",value:function(e){return function(t){return new Promise((function(n,r){var u=Object.assign(t,{blockchain:d.Blockchains.EOS,network:e,requiredFields:{}});f.sendApiRequest({type:"requestSignature",payload:u}).then((function(e){return n(e.signatures)})).catch((function(e){return r(e)}))}))}}},{key:"signatureProvider",value:function(){var e=0>=arguments.length?void 0:arguments[0];return function(t,n){var r,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=(t=d.Network.fromJson(t)).hasOwnProperty("chainId")&&t.chainId.length?t.chainId:i.chainId,c=function(){var e=(0,a.default)(u.default.mark((function e(t){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p(n({httpEndpoint:t.fullhost(),chainId:o,signProvider:c}),{get:function(n,i){if("function"!=typeof n[i])return n[i];var o=null;return function(){for(var c=arguments.length,s=Array(c),l=0;l<c;l++)s[l]=arguments[l];if(s.find((function(e){return e.hasOwnProperty("keyProvider")})))throw Error.usedKeyProvider();return r=function(){var n=(0,a.default)(u.default.mark((function n(r){var a,i,c,l;return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(),a=s.find((function(e){return e.hasOwnProperty("requiredFields")}))||{requiredFields:{}},i=Object.assign(r,{blockchain:d.Blockchains.EOS,network:t,requiredFields:a.requiredFields}),n.next=5,f.sendApiRequest({type:"requestSignature",payload:i});case 5:if(c=n.sent){n.next=8;break}return n.abrupt("return",null);case 8:if(!c.hasOwnProperty("signatures")){n.next=13;break}return o=c.returnedFields,(l=s.find((function(e){return e.hasOwnProperty("signProvider")})))&&c.signatures.push(l.signProvider(r.buf,r.sign)),n.abrupt("return",c.signatures);case 13:return n.abrupt("return",c);case 14:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),new Promise((function(e,t){n[i].apply(n,s).then((function(t){return t.hasOwnProperty("fc")?void e(p(t,{get:function(e,t){return"then"===t?e[t]:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return new Promise(function(){var n=(0,a.default)(u.default.mark((function n(a,i){return u.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e[t].apply(e,r).then((function(e){a(Object.assign(e,{returnedFields:o}))})).catch(i);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}())}}})):e(Object.assign(t,{returnedFields:o}))})).catch(t)}))}}})}}}]),t}(d.Plugin);t.default=h,"undefined"!=typeof window&&(window.ScatterEOS=h)},e28f:function(e,t,n){"use strict";var r=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=r(n("970b")),a=r(n("5bc3")),i=n("4445"),o=r(n("4047")),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"https",r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:i.Blockchains.EOS,c=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"";(0,u.default)(this,e),this.name=t,this.protocol=n,this.host=r,this.port=a,this.blockchain=o,this.chainId=c.toString(),this.token=null}return(0,a.default)(e,[{key:"fullhost",value:function(){return"".concat(this.protocol,"://").concat(this.host).concat(this.port?":":"").concat(this.port)}},{key:"unique",value:function(){return("".concat(this.blockchain,":")+(this.chainId.length?"chain:".concat(this.chainId):"".concat(this.host,":").concat(this.port))).toLowerCase()}}],[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(t){var n=Object.assign(e.placeholder(),t);return n.chainId=n.chainId?n.chainId.toString():"",n.token=t.hasOwnProperty("token")&&t.token?o.default.fromJson(t.token):null,n}}]),e}();t.default=c},e4bb:function(e,t,n){"use strict";var r=n("dbce"),u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("970b")),i=u(n("5bc3")),o=r(n("f861")),c=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";(0,a.default)(this,e),this.name=t,this.type=n}return(0,i.default)(e,[{key:"isSignatureProvider",value:function(){return this.type===o.BLOCKCHAIN_SUPPORT}},{key:"isValid",value:function(){return Object.keys(o).map((function(e){return o[e]})).includes(this.type)}}],[{key:"placeholder",value:function(){return new e}},{key:"fromJson",value:function(t){return Object.assign(e.placeholder(),t)}}]),e}();t.default=c},e57e:function(e,t,n){"use strict";var r=n("dbce"),u=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=u(n("a34a")),i=u(n("c973")),o=u(n("970b")),c=u(n("5bc3")),s=u(n("6b58")),l=u(n("36c6")),d=u(n("ed6d")),f=u(n("e4bb")),p=(n("4445"),r(n("f861"))),h=u(n("6a2e")),v=n("6039"),y=u(n("99d2")),g=u(n("0cd5")),k="https://relay.get-scatter.com:443",w=function(e){function t(e,n){var r;return(0,o.default)(this,t),(r=(0,s.default)(this,(0,l.default)(t).call(this,"RelaySocket",p.WALLET_SUPPORT))).name="RelaySocket",r.context=e,r.holderFns=n,r}return(0,d.default)(t,e),(0,c.default)(t,[{key:"connect",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var r=(0,i.default)(a.default.mark((function r(u){var o;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e&&e.length){r.next=2;break}throw new Error("You must specify a name for this connection");case 2:return n=Object.assign({linkTimeout:3e3,allowHttp:!0},n),r.next=5,fetch("".concat(k,"/app/connect/").concat(g.default)).then((function(e){return 200===e.status?e.json():null}));case 5:if(o=r.sent){r.next=8;break}return r.abrupt("return",u(!1));case 8:t.socketService=new h.default(e,n.linkTimeout),t.socketService.link(n.allowHttp,o,"relaysock.get-scatter.com:443").then(function(){var e=(0,i.default)(a.default.mark((function e(n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",u(!1));case 2:return t.holderFns.get().isExtension=!1,t.holderFns.get().wallet||(t.holderFns.get().wallet=t.name),e.abrupt("return",u(t.socketService));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());case 10:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}())}},{key:"runAfterInterfacing",value:function(){var e=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.holderFns.get().getIdentityFromPermissions();case 2:return this.holderFns.get().identity=e.sent,e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"methods",value:function(){return y.default.getMethods(this)}},{key:"eventHandler",value:function(){var e=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===v.EVENTS.Disconnected?3:e.t0===v.EVENTS.LoggedOut?5:9;break;case 3:return this.holderFns.get().identity=null,e.abrupt("break",9);case 5:return e.next=7,this.holderFns.get().getIdentityFromPermissions();case 7:return this.holderFns.get().identity=e.sent,e.abrupt("break",9);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(f.default);t.default=w},f861:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WALLET_SUPPORT=t.BLOCKCHAIN_SUPPORT=void 0;t.BLOCKCHAIN_SUPPORT="blockchain_support";t.WALLET_SUPPORT="wallet_support"}}]);