{"version":3,"sources":["webpack:///./src/view/Complaint.vue?4449","webpack:///src/view/Complaint.vue","webpack:///./src/view/Complaint.vue?158a","webpack:///./src/view/Complaint.vue","webpack:///./src/utils/uploadimg.js","webpack:///./src/view/Complaint.vue?decc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$t","model","value","formState","callback","$$v","$set","expression","imgAdd","imgDel","disabledImg","on","handlePreview","fileList","length","_e","previewVisible","handleCancel","staticStyle","previewImage","onSubmit","staticRenderFns","component","uploadImg","url","params","Promise","resolve","reject","conf","headers","contentType","clientCode","config","clientItem","axios","post","baseURL","then","res","data","catch","err"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,eAAe,CAACE,YAAY,SAAS,CAACF,EAAG,oBAAoB,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,wBAAwB,CAACP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,mBAAmB,SAASN,EAAG,oBAAoB,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,yBAAyB,QAAQ,GAAGN,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACE,YAAY,WAAW,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,gCAAgCN,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,UAAU,CAACE,YAAY,SAASC,MAAM,CAAC,YAAcP,EAAIU,GAAG,qBAAqBC,MAAM,CAACC,MAAOZ,EAAIa,UAAkB,SAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,UAAW,WAAYE,IAAME,WAAW,yBAAyB,IAAI,GAAGb,EAAG,QAAQ,CAACE,YAAY,WAAW,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,8BAA8BN,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,aAAa,CAACG,MAAM,CAAC,YAAcP,EAAIU,GAAG,uBAAuB,KAAO,GAAGC,MAAM,CAACC,MAAOZ,EAAIa,UAAc,KAAEC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIa,UAAW,OAAQE,IAAME,WAAW,qBAAqB,IAAI,GAAGb,EAAG,QAAQ,CAACE,YAAY,WAAW,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAI,CAACH,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,8BAA8BN,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAY,eAAe,cAAgBP,EAAIkB,OAAO,OAASlB,EAAImB,OAAO,SAAWnB,EAAIoB,aAAaC,GAAG,CAAC,QAAUrB,EAAIsB,eAAeX,MAAM,CAACC,MAAOZ,EAAY,SAAEc,SAAS,SAAUC,GAAMf,EAAIuB,SAASR,GAAKE,WAAW,aAAa,CAAEjB,EAAIuB,SAASC,OAAS,EAAGpB,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,UAAUH,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,oBAAoB,QAAQ,GAAGV,EAAIyB,OAAOrB,EAAG,UAAU,CAACG,MAAM,CAAC,QAAUP,EAAI0B,eAAe,OAAS,MAAML,GAAG,CAAC,OAASrB,EAAI2B,eAAe,CAACvB,EAAG,MAAM,CAACwB,YAAY,CAAC,MAAQ,QAAQrB,MAAM,CAAC,IAAM,UAAU,IAAMP,EAAI6B,mBAAmB,IAAI,GAAGzB,EAAG,QAAQ,CAACE,YAAY,WAAW,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,KAAKH,EAAG,QAAQ,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,WAAW,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,WAAWc,GAAG,CAAC,MAAQrB,EAAI8B,WAAW,CAAC9B,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,GAAG,uBAAuB,QAAQ,IAAI,IAAI,MAAM,IAC3zEqB,EAAkB,G,YCyFtB,GACE,KADF,WAEI,MAAJ,CACM,UAAN,GACM,gBAAN,EACM,aAAN,GACM,SAAN,GACM,OAAN,GACM,WAAN,EACM,aAAN,IAGE,QAZF,WAaI,KAAJ,0CAEE,QAAF,CACI,OADJ,SACA,GAAM,IAAN,OACA,eACM,EAAN,sBAEM,KAAN,eACM,OAAN,OAAM,CAAN,yCACQ,QAAR,cACQ,EAAR,eACA,YACU,EAAV,kBACU,EAAV,wBACU,EAAV,uBAII,cAhBJ,SAgBA,GACM,KAAN,kBACM,KAAN,yBAEI,aApBJ,aAqBI,OArBJ,SAqBA,GACM,QAAN,YACM,KAAN,aAEI,aAzBJ,WA0BM,KAAN,mBAEI,SA5BJ,WA4BM,IAAN,OACM,GAAN,eAAM,CAGA,IAAN,GACQ,MAAR,YACQ,YAAR,wBACQ,KAAR,qBAEM,GAAN,gCACQ,GAAR,sBAEA,CACU,IAAV,uBACA,0BACA,IACA,GAEA,UACY,EAAZ,qCARU,EAAV,+BAYM,KAAN,0BACM,KAAN,uDACQ,EAAR,uBACA,YACU,QAAV,OACU,EAAV,gDACU,EAAV,uBClKmV,I,wBCQ/UC,EAAY,eACd,EACAjC,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,0FChBf,SAASC,EAAUC,EAAKC,GACpB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzB,IAAIC,EAAO,CACPC,QAAS,CACLC,YAAa,sBACbC,WAAYC,OAAOD,WACnBE,WAAYD,OAAOC,aAG3BC,IAAMC,KAAKH,OAAOI,QAAUb,EAAKC,EAAQI,GAAMS,MAAK,SAAAC,GAChDZ,EAAQY,EAAIC,SACbC,OAAM,SAAAC,GACLd,EAAOc,SAIJnB,U,yDCnBf","file":"js/chunk-581ce6ff.6244f0c3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"complaint\"},[_c('a-breadcrumb',{staticClass:\"bread\"},[_c('a-breadcrumb-item',[_c('a',{attrs:{\"href\":\"/customerService/pc\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"language.title\"))+\" \")])]),_c('a-breadcrumb-item',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"language.suggestions\"))+\" \")])],1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"card\"},[_c('a-row',{staticClass:\"rowItem\"},[_c('a-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"lable\"},[_vm._v(_vm._s(_vm.$t(\"language.memberaccount\")))])]),_c('a-col',{attrs:{\"span\":12}},[_c('a-input',{staticClass:\"inputN\",attrs:{\"placeholder\":_vm.$t('language.account')},model:{value:(_vm.formState.username),callback:function ($$v) {_vm.$set(_vm.formState, \"username\", $$v)},expression:\"formState.username\"}})],1)],1),_c('a-row',{staticClass:\"rowItem\"},[_c('a-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"lable\"},[_vm._v(_vm._s(_vm.$t(\"language.suggestion1\")))])]),_c('a-col',{attrs:{\"span\":12}},[_c('a-textarea',{attrs:{\"placeholder\":_vm.$t('language.suggestion'),\"rows\":6},model:{value:(_vm.formState.text),callback:function ($$v) {_vm.$set(_vm.formState, \"text\", $$v)},expression:\"formState.text\"}})],1)],1),_c('a-row',{staticClass:\"rowItem\"},[_c('a-col',{attrs:{\"span\":8}},[_c('p',{staticClass:\"lable\"},[_vm._v(_vm._s(_vm.$t(\"language.screenshot1\")))])]),_c('a-col',{attrs:{\"span\":12}},[_c('a-upload',{attrs:{\"list-type\":\"picture-card\",\"customRequest\":_vm.imgAdd,\"remove\":_vm.imgDel,\"disabled\":_vm.disabledImg},on:{\"preview\":_vm.handlePreview},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}},[(_vm.fileList.length < 1)?_c('div',[_c('a-icon',{attrs:{\"type\":\"plus\"}}),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"language.upload\"))+\" \")])],1):_vm._e()]),_c('a-modal',{attrs:{\"visible\":_vm.previewVisible,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"alt\":\"example\",\"src\":_vm.previewImage}})])],1)],1),_c('a-row',{staticClass:\"rowItem\"},[_c('a-col',{attrs:{\"span\":8}}),_c('a-col',{staticClass:\"btnCol\",attrs:{\"span\":12}},[_c('a-button',{staticClass:\"btnNext\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\" \"+_vm._s(_vm.$t(\"language.submitnow\"))+\" \")])],1)],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"complaint\">\r\n        <a-breadcrumb class=\"bread\">\r\n            <a-breadcrumb-item>\r\n                <a href=\"/customerService/pc\">\r\n                    {{ $t(\"language.title\") }}\r\n                </a>\r\n            </a-breadcrumb-item>\r\n            <a-breadcrumb-item class=\"text\">\r\n                {{ $t(\"language.suggestions\") }}\r\n            </a-breadcrumb-item>\r\n        </a-breadcrumb>\r\n        <div class=\"content\">\r\n            <div class=\"card\">\r\n                <a-row class=\"rowItem\">\r\n                    <a-col :span=\"8\">\r\n                        <p class=\"lable\">{{ $t(\"language.memberaccount\") }}</p>\r\n                    </a-col>\r\n                    <a-col :span=\"12\">\r\n                        <a-input\r\n                            v-model=\"formState.username\"\r\n                            :placeholder=\"$t('language.account')\"\r\n                            class=\"inputN\"\r\n                        />\r\n                    </a-col>\r\n                </a-row>\r\n                <a-row class=\"rowItem\">\r\n                    <a-col :span=\"8\">\r\n                        <p class=\"lable\">{{ $t(\"language.suggestion1\") }}</p>\r\n                    </a-col>\r\n                    <a-col :span=\"12\">\r\n                        <a-textarea\r\n                            v-model=\"formState.text\"\r\n                            :placeholder=\"$t('language.suggestion')\"\r\n                            :rows=\"6\"\r\n                        />\r\n                    </a-col>\r\n                </a-row>\r\n                <a-row class=\"rowItem\">\r\n                    <a-col :span=\"8\">\r\n                        <p class=\"lable\">{{ $t(\"language.screenshot1\") }}</p>\r\n                    </a-col>\r\n                    <a-col :span=\"12\">\r\n                        <a-upload\r\n                            list-type=\"picture-card\"\r\n                            :customRequest=\"imgAdd\"\r\n                            :remove=\"imgDel\"\r\n                            @preview=\"handlePreview\"\r\n                            v-model=\"fileList\"\r\n                            :disabled=\"disabledImg\"\r\n                        >\r\n                            <div v-if=\"fileList.length < 1\">\r\n                                <a-icon type=\"plus\" />\r\n                                <div class=\"ant-upload-text\">\r\n                                    {{ $t(\"language.upload\") }}\r\n                                </div>\r\n                            </div>\r\n                        </a-upload>\r\n                        <a-modal\r\n                            :visible=\"previewVisible\"\r\n                            :footer=\"null\"\r\n                            @cancel=\"handleCancel\"\r\n                        >\r\n                            <img\r\n                                alt=\"example\"\r\n                                style=\"width: 100%\"\r\n                                :src=\"previewImage\"\r\n                            />\r\n                        </a-modal>\r\n                    </a-col>\r\n                </a-row>\r\n                <a-row class=\"rowItem\">\r\n                    <a-col :span=\"8\"> </a-col>\r\n                    <a-col :span=\"12\" class=\"btnCol\">\r\n                        <a-button\r\n                            type=\"primary\"\r\n                            class=\"btnNext\"\r\n                            @click=\"onSubmit\"\r\n                        >\r\n                            {{ $t(\"language.submitnow\") }}\r\n                        </a-button>\r\n                    </a-col>\r\n                </a-row>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport uploadImg from \"../utils/uploadimg.js\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            formState: {},\r\n            previewVisible: false,\r\n            previewImage: \"\",\r\n            fileList: [],\r\n            imgUrl: \"\",\r\n            subimgBtn: true,\r\n            disabledImg: false,\r\n        };\r\n    },\r\n    created() {\r\n        this.formState.username = this.$config.username;\r\n    },\r\n    methods: {\r\n        imgAdd(data) {\r\n            let formdata = new FormData();\r\n            formdata.append(\"file\", data.file);\r\n            // console.log(data, formdata);\r\n            this.disabledImg = true;\r\n            uploadImg(this.$api.uploadImg, formdata).then((res) => {\r\n                console.log(\"上传图片\", res);\r\n                this.disabledImg = false;\r\n                if (res.code == 0) {\r\n                    this.imgUrl = res.data.url;\r\n                    this.fileList.push(this.imgUrl);\r\n                    data.onSuccess(res.data);\r\n                }\r\n            });\r\n        },\r\n        handlePreview(e) {\r\n            this.previewVisible = true;\r\n            this.previewImage = e.thumbUrl;\r\n        },\r\n        handleChange() {},\r\n        imgDel(i) {\r\n            console.log(\"删除\", i);\r\n            this.fileList = [];\r\n        },\r\n        handleCancel() {\r\n            this.previewVisible = false;\r\n        },\r\n        onSubmit() {\r\n            if (!this.subimgBtn) {\r\n                return;\r\n            }\r\n            let parames = {\r\n                annex: this.imgUrl,\r\n                memeberName: this.formState.username,\r\n                memo: this.formState.text,\r\n            };\r\n            if (this.$config.clientItem == \"aygj\") {\r\n                if (!this.$config.username) {\r\n                    parames.memeberName = parames.memeberName + \"ay\";\r\n                } else {\r\n                    var disLength = parames.memeberName.length;\r\n                    var shortName = parames.memeberName.substring(\r\n                        disLength - 2,\r\n                        disLength\r\n                    );\r\n                    if (shortName != \"ay\") {\r\n                        parames.memeberName = parames.memeberName + \"ay\";\r\n                    }\r\n                }\r\n            }\r\n            this.subimgBtn = !this.subimgBtn;\r\n            this.$http.post(this.$api.addComplaint, parames).then((res) => {\r\n                this.subimgBtn = !this.subimgBtn;\r\n                if (res.code == 0) {\r\n                    console.log(res);\r\n                    this.$message.success(this.$t(\"language.successfully\"));\r\n                    this.$router.go(-1);\r\n                }\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.complaint {\r\n    margin: 10px 18%;\r\n    .content {\r\n        margin: 20px 15%;\r\n        .card {\r\n            background: #fff;\r\n            padding: 70px 30px;\r\n            .rowItem {\r\n                margin-bottom: 20px;\r\n                .btnCol {\r\n                    text-align: left;\r\n                    .btnNext {\r\n                        background: var(--themeColor);\r\n                        border: none;\r\n                        padding-left: 35px;\r\n                        padding-right: 35px;\r\n                    }\r\n                }\r\n                .flexBox {\r\n                    display: flex;\r\n                    .btnCode {\r\n                        margin-left: 10px;\r\n                        background: var(--themeColor);\r\n                        border: none;\r\n                    }\r\n                }\r\n                .lable {\r\n                    margin: 0;\r\n                    text-align: right;\r\n                    line-height: 44px;\r\n                    padding-right: 10px;\r\n                    color: #333;\r\n                    font-size: 16px;\r\n                }\r\n                .inputN {\r\n                    height: 44px !important;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .ant-input {\r\n        height: auto !important;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Complaint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Complaint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Complaint.vue?vue&type=template&id=84a85f22&\"\nimport script from \"./Complaint.vue?vue&type=script&lang=js&\"\nexport * from \"./Complaint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Complaint.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\r\nimport config from './config'\r\n\r\nfunction uploadImg(url, params) {\r\n    return new Promise((resolve, reject) => {\r\n        let conf = {\r\n            headers: {\r\n                contentType: 'multipart/form-data',\r\n                clientCode: config.clientCode,\r\n                clientItem: config.clientItem\r\n            }\r\n        }\r\n        axios.post(config.baseURL + url, params, conf).then(res => {\r\n            resolve(res.data)\r\n        }).catch(err => {\r\n            reject(err)\r\n        })\r\n    })\r\n}\r\nexport default uploadImg","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Complaint.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}